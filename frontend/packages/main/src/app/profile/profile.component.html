<div class="neo-container">
  <div class="flex justify-center">
    <div class="w-full max-w-3xl">
      <app-neo-card>
        <div class="p-0">
          <div class="bg-primary text-primary-foreground p-4 border-b-brutal border-black">
            <h2 class="text-2xl font-bold mb-0">Your Profile</h2>
          </div>
          <div class="p-6">
            @if (updateSuccess) {
              <div class="bg-primary/20 border-brutal border-black p-4 mb-6 shadow-brutal">
                Profile updated successfully!
              </div>
            }
            @if (updateError) {
              <div class="bg-destructive text-destructive-foreground border-brutal border-black p-4 mb-6 shadow-brutal">
                {{ updateError }}
              </div>
            }
            
            <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
              <div class="mb-6">
                <app-neo-input type="text" id="firstName" formControlName="firstName" class="w-full" [label]="'First Name'"></app-neo-input>
                @if (profileForm.get('firstName')?.invalid && profileForm.get('firstName')?.touched) {
                  <div class="text-destructive mt-2">
                    First name is required
                  </div>
                }
              </div>
              
              <div class="mb-6">
                <app-neo-input type="text" id="lastName" formControlName="lastName" class="w-full" [label]="'Last Name'"></app-neo-input>
                @if (profileForm.get('lastName')?.invalid && profileForm.get('lastName')?.touched) {
                  <div class="text-destructive mt-2">
                    Last name is required
                  </div>
                }
              </div>
              
              <div class="mb-6">
                <app-neo-input type="email" id="email" formControlName="email" class="w-full" [label]="'Email'" [disabled]="true"></app-neo-input>
                <small class="text-muted-foreground block mt-2">Email cannot be changed</small>
              </div>
              
              <div class="mt-8">
                <app-neo-button type="submit" [fullWidth]="true" [disabled]="profileForm.invalid || isSubmitting">
                  @if (isSubmitting) {
                    <span class="inline-block animate-spin mr-2">‚ü≥</span>
                  }
                  Update Profile
                </app-neo-button>
              </div>
            </form>
            
            <div class="border-t border-black my-8"></div>
            
            <div class="flex justify-between items-center">
              <h5 class="text-lg font-bold mb-0">Account Actions</h5>
              <app-logout-button></app-logout-button>
            </div>
          </div>
        </div>
      </app-neo-card>
    </div>
  </div>
</div>